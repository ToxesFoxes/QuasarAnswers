"use strict";(self["webpackChunkquizziz"]=self["webpackChunkquizziz"]||[]).push([[138],{5138:(e,t,s)=>{s.r(t),s.d(t,{default:()=>B});var n=s(3673),i=s(2323);function r(e,t,s,r,u,o){const c=(0,n.up)("q-btn"),a=(0,n.up)("quiz-list"),l=(0,n.up)("quiz-question"),d=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(d,{padding:""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.selected)+" ",1),(0,n.Wm)(c,{color:"primary",icon:"check",label:"quit",onClick:e.quit},null,8,["onClick"]),e.selected?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(a,{key:0,quizList:e.quizList},null,8,["quizList"])),e.selected?((0,n.wg)(),(0,n.j4)(l,{key:1})):(0,n.kq)("",!0)])),_:1})}const u={class:"row justify-center content-center"},o={class:"text-h6"},c={class:"text-subtitle2"};function a(e,t,s,r,a,l){const d=(0,n.up)("q-card-section"),p=(0,n.up)("q-separator"),q=(0,n.up)("q-btn"),m=(0,n.up)("q-card");return(0,n.wg)(),(0,n.iD)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.quizList,((t,s)=>((0,n.wg)(),(0,n.j4)(m,{flat:"",bordered:"",class:"my-card q-pa-none column",key:s},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"q-pb-sm"},{default:(0,n.w5)((()=>[(0,n._)("div",o,(0,i.zw)(t.title),1),(0,n._)("div",c,"Вопросов: "+(0,i.zw)(t.count),1)])),_:2},1024),(0,n.Wm)(d,{class:"q-pa-none q-mt-auto relative-position"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"q-pb-auto"}),(0,n.Wm)(q,{flat:"",color:"primary",class:"q-ma-none start-btn vertical-bottom",label:"Начать",onClick:s=>e.enterQuiz(t)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])}var l=s(3617);const d={props:{quizList:{type:Object,required:!0}},methods:{...(0,l.nv)({enterQuiz:"testing/enterQuiz"})}};var p=s(4260),q=s(151),m=s(5589),h=s(5869),w=s(6819),g=s(7518),v=s.n(g);const f=(0,p.Z)(d,[["render",a],["__scopeId","data-v-946abc78"]]),z=f;v()(d,"components",{QCard:q.Z,QCardSection:m.Z,QSeparator:h.Z,QBtn:w.Z});const _={class:"column justify-center content-center"},Q={class:"q-my-sm text-h6"},k={class:"row justify-center"};function y(e,t,s,r,u,o){const c=(0,n.up)("question-card"),a=(0,n.up)("q-btn");return(0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("div",Q,"Вопрос "+(0,i.zw)(e.index+1)+" из "+(0,i.zw)(e.count)+":",1),null!=e.question?((0,n.wg)(),(0,n.j4)(c,{key:0,version:"2.0",question:e.question,class:"my-card",ref:"card"},null,8,["version","question"])):(0,n.kq)("",!0),(0,n._)("div",k,[(0,n.Wm)(a,{class:"q-mr-sm",color:"primary",outline:"",label:"Прошлый",onClick:o.prev},null,8,["onClick"]),(0,n.Wm)(a,{class:"q-ml-sm",color:"primary",outline:"",label:"Следующий",onClick:o.next},null,8,["onClick"])])])}const b={class:"question_card",ref:"soms"},C={class:"question"},x=["type","value","name"];function Z(e,t,s,r,u,o){return(0,n.wg)(),(0,n.iD)("div",b,[(0,n._)("p",C,(0,i.zw)(o.question_text),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.question_answers,((e,t)=>((0,n.wg)(),(0,n.iD)("label",{class:"answer",key:t},[(0,n._)("input",{type:o.answer_type,value:`answer_${t}`,name:`quiz_${s.question.id}`,ref_for:!0,ref:`answer_${t}`},null,8,x),(0,n._)("span",null,(0,i.zw)(e.text),1)])))),128))],512)}const j={props:{question:{type:Object,required:!0},version:{type:String,required:!0}},computed:{question_id(){return this.question.id},question_text(){switch(this.version){case"2.0":return this.question.title;case"1.0":default:return this.question.question}},question_ansCount(){return this.question.answers.length},question_answers(){return this.question.answers},type(){switch(this.version){case"2.0":let e=0;for(let t in this.question.answers)1==this.question.answers[t].valid&&e++;return 1==e?"single":"multiple";case"1.0":default:return this.question.type||"single"}},answer_type(){let e;switch(this.type){case"multiple":e="checkbox";break;case"single":default:e="radio";break}return e}},methods:{animate(e,t){const s=this.$refs.soms.classList;s.add(e),setTimeout((()=>{s.remove(e)}),t)},incorrect(){this.animate("incorrect",450)},correct(){this.animate("correct",1e3)},getInputs(){const e=[];for(let t in this.$refs)t.startsWith("answer_")&&1==this.$refs[t].length&&e.push(this.$refs[t][0]);return e},getResults(){const e=this.getInputs();var t={count:0,valid:0,isCorrect:!1,answers:[]};const s=this.question_answers;t.count=e.length;for(let n in s){const{c1:i,c2:r}={c1:e[n].checked,c2:s[n].valid};i==r&&t.valid++,t.answers.push(i)}return t.isCorrect=t.valid==t.count,t},checkValid(){const e=this.getResults();return e.isCorrect?this.animate("correct",1e3):this.animate("incorrect",450),e}},mounted(){}},I=(0,p.Z)(j,[["render",Z],["__scopeId","data-v-4f774fba"]]),L=I,W={components:{QuestionCard:L},props:{},computed:{...(0,l.Se)({some:"testing/currentQuiz",index:"testing/questionIndex",count:"testing/questionCount",question:"testing/currentQuestion"})},methods:{...(0,l.OI)({setCurrentQuestion:"testing/setCurrentQuestion",setQuestionIndex:"testing/setQuestionIndex"}),...(0,l.nv)({nextQuestion:"testing/nextQuestion",prevQuestion:"testing/prevQuestion"}),next(){var e=this.card.checkValid();setTimeout((()=>{this.nextQuestion(e.answers)}),1e3)},prev(){this.index>-1&&this.index,this.prevQuestion()},async getCardRef(){setTimeout((()=>{this.card=this.$refs.card}),300)},data:()=>({card:null})},mounted(){this.getCardRef()}},$=(0,p.Z)(W,[["render",y]]),D=$;v()(W,"components",{QBtn:w.Z});const S={components:{QuizList:z,QuizQuestion:D},computed:{...(0,l.Se)({cards:"global/routerPages",quizList:"answers/getFullQuizList",item:"testing/question",selected:"testing/selected"})},methods:{...(0,l.OI)({update:"testing/update"}),...(0,l.nv)({quit:"testing/quitQuiz"}),async prevQuestion(){}},mounted(){},data:()=>({})};var O=s(4379);const R=(0,p.Z)(S,[["render",r]]),B=R;v()(S,"components",{QPage:O.Z,QBtn:w.Z})}}]);